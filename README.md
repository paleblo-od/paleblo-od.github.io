# Chess32bot

Chess32bot - это многопользовательский Telegram-бот для игры в шахматы на основе веб-приложения. Он позволяет пользователям играть в шахматы с случайными соперниками или друзьями. В будущем в планах развития проекта - добавление функционала подписки, отслеживание статистики (история игр, победы, поражения, рейтинг Elo) и анализ партий.

## Содержание
1. [Структура проекта](#структура-проекта)
2. [Требования](#требования)
3. [Установка](#установка)
4. [Использование](#использование)
5. [Лицензия](#лицензия)

### Структура проекта

Проект организован в следующие директории и файлы:

- `bootstrap.py`: Точка входа в проект.
- `build/`: Содержит HTML-файл веб-приложения.
- `config.py`: Файл конфигурации проекта.
- `config.yaml`: Файл конфигурации в формате YAML.
- `db_api/`: Каталог для модулей, связанных с базой данных.
- `engine/`: Содержит модули и классы для логики игры и сессий.
- `handlers/`: Обработчики бота Telegram.
- `websocket/`: Модули для поддержки WebSocket-соединений.
- `states/`: Модули управления состояниями бота.
- `utils.py`: Утилитарные функции.
- `main.py`: Точка входа в проект.
- `requirements.txt`: Список зависимостей проекта.
- `router.py`: Регистрация обработчиков бота Telegram.
- `routes.py`: Маршруты для доступа к веб-приложению.
- `settings.py`: Настройки проекта.

### Требования

Для запуска проекта Chess32bot вам потребуется следующее:

- Python 3.10
- Система управления базами данных PostgreSQL
- Веб-сервер с поддержкой HTTPS (например, Apache)

### Установка

1. Установите Python 3.10, PostgreSQL и Git на вашем сервере.
2. Клонируйте репозиторий:
   ```git clone https://github.com/вашеимяпользователя/chess32bot.git```
3. Создайте виртуальное окружение:
   ```python -m venv venv```
4. Активируйте виртуальное окружение:
  ```source venv/bin/activate```
5. Установите зависимости проекта:
   ```pip install -r requirements.txt```
6. Настройте вашу базу данных PostgreSQL и обновите файл `config.yaml` с необходимыми учетными данными для базы данных.
7. Настройте ваш веб-сервер (например, Apache) для поддержки HTTPS. Вот пример конфигурации виртуального хоста Apache для HTTPS:
     ```
     <VirtualHost *:443>
        ServerName your_site
        ProxyPreserveHost On
        ProxyPass /wss/ ws://localhost:80/
        ProxyPassReverse /wss/ ws://localhost:80/
        ProxyPass /.well-known/acme-challenge !
        ProxyPass / http://localhost:8080/
        ProxyPassReverse / http://localhost:8080/
        SSLEngine on
        SSLCertificateFile /etc/ssl/your_crt.crt
        SSLCertificateKeyFile /etc/ssl/rsa_key
        SSLCertificateChainFile /etc/ssl/your_ca-bundle.ca-bundle
        ServerAdmin webmaster@localhost
        DocumentRoot /var/www/html
        ErrorLog ${APACHE_LOG_DIR}/error.log
       CustomLog ${APACHE_LOG_DIR}/access.log combined
   </VirtualHost>```
### Использование

Для использования Chess32bot вам нужно выполнить следующие шаги:

1. **Запустите Telegram и найдите бота по его имени:** `@Chess32bot`.

2. **Начните диалог с ботом, отправив команду /start.** Бот приветствует вас и предоставляет несколько вариантов действий.

3. **Выберите одно из действий:**

   - **Начать игру с случайным соперником:** Выбрав эту опцию, вы будете немедленно сопоставлены с другим случайным игроком, который также желает сыграть в шахматы. Это отличный способ проверить свои навыки и сразиться с разными оппонентами.

   - **Пригласить друга для игры в шахматы:** Если вы хотите сыграть со своим другом, вам потребуется его Telegram-имя или логин. После ввода информации о вашем друге, бот создаст игру между вами двоими, и вы сможете сыграть партию вдвоем.

4. **Следуйте инструкциям бота для начала игры.** В зависимости от выбранной опции, бот будет направлять вас в процессе создания и игры в шахматы. Вы сможете делать ходы и взаимодействовать с доской для шахмат напрямую.

5. **Откройте веб-приложение:** После начала игры, бот предоставит вам кнопку, которую вы можете нажать, чтобы открыть веб-приложение для шахмат. Веб-приложение обеспечивает интерактивную доску и дополнительные функции для удобства игры.

6. **Планируются дополнительные функции:** В будущем мы планируем расширить функционал бота, добавив дополнительные опции, такие как подписки для доступа к расширенным возможностям, статистика игр, включая историю и рейтинг Elo, и анализ партий для улучшения игровой стратегии.

7. **Документация:** Если у вас возникнут вопросы или проблемы, обратитесь к [документации](#документация), которую мы планируем предоставить в ближайшем будущем. Там будут содержаться подробные инструкции и советы для использования бота и веб-приложения.

### Лицензия

Chess32bot распространяется под открытой лицензией [Выберите соответствующую лицензию для вашего проекта, например, MIT или Apache License 2.0]. Это означает, что вы имеете право свободно использовать, изменять и распространять код этого проекта в соответствии с условиями лицензии.

Чтобы ознакомиться с полным текстом лицензии, прочтите файл [LICENSE](LICENSE) в корневом каталоге проекта.

Мы приветствуем ваши вклады и сотрудничество! Если у вас есть предложения, исправления или улучшения для этого проекта, не стесняйтесь создавать запросы на слияние (Pull Requests) или сообщать о проблемах (Issues) на GitHub.

Важно помнить о соблюдении условий лицензии и уважении авторских прав при использовании этого проекта.
